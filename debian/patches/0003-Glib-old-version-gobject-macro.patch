From: Andrea Zagli <azagli@libero.it>
Date: Mon, 30 May 2016 09:09:16 +0200
Subject: Glib old version - gobject macro.

---
 src/form.h        | 17 +++++++++++++++--
 src/formelement.h | 17 +++++++++++++++--
 2 files changed, 30 insertions(+), 4 deletions(-)

diff --git a/src/form.h b/src/form.h
index 01fb475..416903a 100644
--- a/src/form.h
+++ b/src/form.h
@@ -31,8 +31,21 @@
 G_BEGIN_DECLS
 
 
-#define ZAK_CGI_TYPE_FORM zak_cgi_form_get_type ()
-G_DECLARE_DERIVABLE_TYPE (ZakCgiForm, zak_cgi_form, ZAK_CGI, FORM, ZakFormForm)
+#define ZAK_CGI_TYPE_FORM                 (zak_cgi_form_get_type ())
+#define ZAK_CGI_FORM(obj)                 (G_TYPE_CHECK_INSTANCE_CAST ((obj), ZAK_CGI_TYPE_FORM, ZakCgiForm))
+#define ZAK_CGI_FORM_CLASS(klass)         (G_TYPE_CHECK_CLASS_CAST ((klass), ZAK_CGI_TYPE_FORM, ZakCgiFormClass))
+#define ZAK_CGI_IS_FORM(obj)              (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ZAK_CGI_TYPE_FORM))
+#define ZAK_CGI_IS_FORM_CLASS(klass)      (G_TYPE_CHECK_CLASS_TYPE ((klass), ZAK_CGI_TYPE_FORM))
+#define ZAK_CGI_FORM_GET_CLASS(obj)       (G_TYPE_INSTANCE_GET_CLASS ((obj), ZAK_CGI_TYPE_FORM, ZakCgiFormClass))
+
+
+typedef struct _ZakCgiForm ZakCgiForm;
+typedef struct _ZakCgiFormClass ZakCgiFormClass;
+
+struct _ZakCgiForm
+	{
+		ZakFormForm parent;
+	};
 
 struct _ZakCgiFormClass
 {
diff --git a/src/formelement.h b/src/formelement.h
index 50d5822..a6d9004 100644
--- a/src/formelement.h
+++ b/src/formelement.h
@@ -30,8 +30,21 @@
 G_BEGIN_DECLS
 
 
-#define ZAK_CGI_TYPE_FORM_ELEMENT zak_cgi_form_element_get_type ()
-G_DECLARE_DERIVABLE_TYPE (ZakCgiFormElement, zak_cgi_form_element, ZAK_CGI, FORM_ELEMENT, ZakFormElement)
+#define ZAK_CGI_TYPE_FORM_ELEMENT                 (zak_cgi_form_element_get_type ())
+#define ZAK_CGI_FORM_ELEMENT(obj)                 (G_TYPE_CHECK_INSTANCE_CAST ((obj), ZAK_CGI_TYPE_FORM_ELEMENT, ZakCgiFormElement))
+#define ZAK_CGI_FORM_ELEMENT_CLASS(klass)         (G_TYPE_CHECK_CLASS_CAST ((klass), ZAK_CGI_TYPE_FORM_ELEMENT, ZakCgiFormElementClass))
+#define ZAK_CGI_IS_FORM_ELEMENT(obj)              (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ZAK_CGI_TYPE_FORM_ELEMENT))
+#define ZAK_CGI_IS_FORM_ELEMENT_CLASS(klass)      (G_TYPE_CHECK_CLASS_TYPE ((klass), ZAK_CGI_TYPE_FORM_ELEMENT))
+#define ZAK_CGI_FORM_ELEMENT_GET_CLASS(obj)       (G_TYPE_INSTANCE_GET_CLASS ((obj), ZAK_CGI_TYPE_FORM_ELEMENT, ZakCgiFormElementClass))
+
+
+typedef struct _ZakCgiFormElement ZakCgiFormElement;
+typedef struct _ZakCgiFormElementClass ZakCgiFormElementClass;
+
+struct _ZakCgiFormElement
+	{
+		ZakFormElement parent;
+	};
 
 struct _ZakCgiFormElementClass
 	{
